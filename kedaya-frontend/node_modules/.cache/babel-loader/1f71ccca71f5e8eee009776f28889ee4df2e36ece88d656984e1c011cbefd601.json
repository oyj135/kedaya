{"ast":null,"code":"import _objectSpread from \"D:/study/java/graduate_design/kedaya/kedaya-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _typeof from \"D:/study/java/graduate_design/kedaya/kedaya-frontend/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _slicedToArray from \"D:/study/java/graduate_design/kedaya/kedaya-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.create.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { watch, isRef, unref, inject, computed, watchEffect, Vue2, defineComponent, shallowRef, toRefs, getCurrentInstance, onMounted, onBeforeUnmount, h, nextTick } from 'vue-demi';\nimport { throttle, init } from 'echarts/core';\nvar METHOD_NAMES = [\"getWidth\", \"getHeight\", \"getDom\", \"getOption\", \"resize\", \"dispatchAction\", \"convertToPixel\", \"convertFromPixel\", \"containPixel\", \"getDataURL\", \"getConnectedDataURL\", \"appendData\", \"clear\", \"isDisposed\", \"dispose\"];\nfunction usePublicAPI(chart) {\n  function makePublicMethod(name) {\n    return function () {\n      if (!chart.value) {\n        throw new Error(\"ECharts is not initialized yet.\");\n      }\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return chart.value[name].apply(chart.value, args);\n    };\n  }\n  function makePublicMethods() {\n    var methods = /* @__PURE__ */Object.create(null);\n    METHOD_NAMES.forEach(function (name) {\n      methods[name] = makePublicMethod(name);\n    });\n    return methods;\n  }\n  return makePublicMethods();\n}\nfunction useAutoresize(chart, autoresize, root) {\n  watch([root, chart, autoresize], function (_ref, _, onCleanup) {\n    var _ref2 = _slicedToArray(_ref, 3),\n      root2 = _ref2[0],\n      chart2 = _ref2[1],\n      autoresize2 = _ref2[2];\n    var ro = null;\n    if (root2 && chart2 && autoresize2) {\n      var offsetWidth = root2.offsetWidth,\n        offsetHeight = root2.offsetHeight;\n      var autoresizeOptions = autoresize2 === true ? {} : autoresize2;\n      var _autoresizeOptions$th = autoresizeOptions.throttle,\n        wait = _autoresizeOptions$th === void 0 ? 100 : _autoresizeOptions$th,\n        onResize = autoresizeOptions.onResize;\n      var initialResizeTriggered = false;\n      var callback = function callback() {\n        chart2.resize();\n        onResize === null || onResize === void 0 || onResize();\n      };\n      var resizeCallback = wait ? throttle(callback, wait) : callback;\n      ro = new ResizeObserver(function () {\n        if (!initialResizeTriggered) {\n          initialResizeTriggered = true;\n          if (root2.offsetWidth === offsetWidth && root2.offsetHeight === offsetHeight) {\n            return;\n          }\n        }\n        resizeCallback();\n      });\n      ro.observe(root2);\n    }\n    onCleanup(function () {\n      if (ro) {\n        ro.disconnect();\n        ro = null;\n      }\n    });\n  });\n}\nvar autoresizeProps = {\n  autoresize: [Boolean, Object]\n};\nvar onRE = /^on[^a-z]/;\nvar isOn = function isOn(key) {\n  return onRE.test(key);\n};\nfunction omitOn(attrs) {\n  var result = {};\n  for (var key in attrs) {\n    if (!isOn(key)) {\n      result[key] = attrs[key];\n    }\n  }\n  return result;\n}\nfunction unwrapInjected(injection, defaultValue) {\n  var value = isRef(injection) ? unref(injection) : injection;\n  if (value && _typeof(value) === \"object\" && \"value\" in value) {\n    return value.value || defaultValue;\n  }\n  return value || defaultValue;\n}\nvar LOADING_OPTIONS_KEY = \"ecLoadingOptions\";\nfunction useLoading(chart, loading, loadingOptions) {\n  var defaultLoadingOptions = inject(LOADING_OPTIONS_KEY, {});\n  var realLoadingOptions = computed(function () {\n    return _objectSpread(_objectSpread({}, unwrapInjected(defaultLoadingOptions, {})), loadingOptions === null || loadingOptions === void 0 ? void 0 : loadingOptions.value);\n  });\n  watchEffect(function () {\n    var instance = chart.value;\n    if (!instance) {\n      return;\n    }\n    if (loading.value) {\n      instance.showLoading(realLoadingOptions.value);\n    } else {\n      instance.hideLoading();\n    }\n  });\n}\nvar loadingProps = {\n  loading: Boolean,\n  loadingOptions: Object\n};\nvar registered = null;\nvar TAG_NAME = \"x-vue-echarts\";\nfunction register() {\n  if (registered != null) {\n    return registered;\n  }\n  if (typeof HTMLElement === \"undefined\" || typeof customElements === \"undefined\") {\n    return registered = false;\n  }\n  try {\n    var reg = new Function(\"tag\",\n    // Use esbuild repl to keep build process simple\n    // https://esbuild.github.io/try/#dAAwLjIzLjAALS1taW5pZnkAY2xhc3MgRUNoYXJ0c0VsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7CiAgX19kaXNwb3NlID0gbnVsbDsKCiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7CiAgICBpZiAodGhpcy5fX2Rpc3Bvc2UpIHsKICAgICAgdGhpcy5fX2Rpc3Bvc2UoKTsKICAgICAgdGhpcy5fX2Rpc3Bvc2UgPSBudWxsOwogICAgfQogIH0KfQoKaWYgKGN1c3RvbUVsZW1lbnRzLmdldCh0YWcpID09IG51bGwpIHsKICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnLCBFQ2hhcnRzRWxlbWVudCk7Cn0K\n    \"class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);\");\n    reg(TAG_NAME);\n  } catch (e) {\n    return registered = false;\n  }\n  return registered = true;\n}\ndocument.head.appendChild(document.createElement('style')).textContent = \"x-vue-echarts{display:block;width:100%;height:100%;min-width:0}\\n\";\nvar wcRegistered = register();\nif (Vue2) {\n  Vue2.config.ignoredElements.push(TAG_NAME);\n}\nvar THEME_KEY = \"ecTheme\";\nvar INIT_OPTIONS_KEY = \"ecInitOptions\";\nvar UPDATE_OPTIONS_KEY = \"ecUpdateOptions\";\nvar NATIVE_EVENT_RE = /(^&?~?!?)native:/;\nvar ECharts = defineComponent({\n  name: \"echarts\",\n  props: _objectSpread(_objectSpread({\n    option: Object,\n    theme: {\n      type: [Object, String]\n    },\n    initOptions: Object,\n    updateOptions: Object,\n    group: String,\n    manualUpdate: Boolean\n  }, autoresizeProps), loadingProps),\n  emits: {},\n  inheritAttrs: false,\n  setup: function setup(props, _ref3) {\n    var attrs = _ref3.attrs;\n    var root = shallowRef();\n    var chart = shallowRef();\n    var manualOption = shallowRef();\n    var defaultTheme = inject(THEME_KEY, null);\n    var defaultInitOptions = inject(INIT_OPTIONS_KEY, null);\n    var defaultUpdateOptions = inject(UPDATE_OPTIONS_KEY, null);\n    var _toRefs = toRefs(props),\n      autoresize = _toRefs.autoresize,\n      manualUpdate = _toRefs.manualUpdate,\n      loading = _toRefs.loading,\n      loadingOptions = _toRefs.loadingOptions;\n    var realOption = computed(function () {\n      return manualOption.value || props.option || null;\n    });\n    var realTheme = computed(function () {\n      return props.theme || unwrapInjected(defaultTheme, {});\n    });\n    var realInitOptions = computed(function () {\n      return props.initOptions || unwrapInjected(defaultInitOptions, {});\n    });\n    var realUpdateOptions = computed(function () {\n      return props.updateOptions || unwrapInjected(defaultUpdateOptions, {});\n    });\n    var nonEventAttrs = computed(function () {\n      return omitOn(attrs);\n    });\n    var nativeListeners = {};\n    var listeners = getCurrentInstance().proxy.$listeners;\n    var realListeners = {};\n    if (!listeners) {\n      Object.keys(attrs).filter(function (key) {\n        return isOn(key);\n      }).forEach(function (key) {\n        var event = key.charAt(2).toLowerCase() + key.slice(3);\n        if (event.indexOf(\"native:\") === 0) {\n          var nativeKey = \"on\".concat(event.charAt(7).toUpperCase()).concat(event.slice(8));\n          nativeListeners[nativeKey] = attrs[key];\n          return;\n        }\n        if (event.substring(event.length - 4) === \"Once\") {\n          event = \"~\".concat(event.substring(0, event.length - 4));\n        }\n        realListeners[event] = attrs[key];\n      });\n    } else {\n      Object.keys(listeners).forEach(function (key) {\n        if (NATIVE_EVENT_RE.test(key)) {\n          nativeListeners[key.replace(NATIVE_EVENT_RE, \"$1\")] = listeners[key];\n        } else {\n          realListeners[key] = listeners[key];\n        }\n      });\n    }\n    function init$1(option) {\n      if (!root.value) {\n        return;\n      }\n      var instance = chart.value = init(root.value, realTheme.value, realInitOptions.value);\n      if (props.group) {\n        instance.group = props.group;\n      }\n      Object.keys(realListeners).forEach(function (key) {\n        var _handler = realListeners[key];\n        if (!_handler) {\n          return;\n        }\n        var event = key.toLowerCase();\n        if (event.charAt(0) === \"~\") {\n          event = event.substring(1);\n          _handler.__once__ = true;\n        }\n        var target = instance;\n        if (event.indexOf(\"zr:\") === 0) {\n          target = instance.getZr();\n          event = event.substring(3);\n        }\n        if (_handler.__once__) {\n          delete _handler.__once__;\n          var raw = _handler;\n          _handler = function handler() {\n            raw.apply(void 0, arguments);\n            target.off(event, _handler);\n          };\n        }\n        target.on(event, _handler);\n      });\n      function resize() {\n        if (instance && !instance.isDisposed()) {\n          instance.resize();\n        }\n      }\n      function commit() {\n        var opt = option || realOption.value;\n        if (opt) {\n          instance.setOption(opt, realUpdateOptions.value);\n        }\n      }\n      if (autoresize.value) {\n        nextTick(function () {\n          resize();\n          commit();\n        });\n      } else {\n        commit();\n      }\n    }\n    function setOption(option, updateOptions) {\n      if (props.manualUpdate) {\n        manualOption.value = option;\n      }\n      if (!chart.value) {\n        init$1(option);\n      } else {\n        chart.value.setOption(option, updateOptions || {});\n      }\n    }\n    function cleanup() {\n      if (chart.value) {\n        chart.value.dispose();\n        chart.value = void 0;\n      }\n    }\n    var unwatchOption = null;\n    watch(manualUpdate, function (manualUpdate2) {\n      if (typeof unwatchOption === \"function\") {\n        unwatchOption();\n        unwatchOption = null;\n      }\n      if (!manualUpdate2) {\n        unwatchOption = watch(function () {\n          return props.option;\n        }, function (option, oldOption) {\n          if (!option) {\n            return;\n          }\n          if (!chart.value) {\n            init$1();\n          } else {\n            chart.value.setOption(option, _objectSpread({\n              // mutating `option` will lead to `notMerge: false` and\n              // replacing it with new reference will lead to `notMerge: true`\n              notMerge: option !== oldOption\n            }, realUpdateOptions.value));\n          }\n        }, {\n          deep: true\n        });\n      }\n    }, {\n      immediate: true\n    });\n    watch([realTheme, realInitOptions], function () {\n      cleanup();\n      init$1();\n    }, {\n      deep: true\n    });\n    watchEffect(function () {\n      if (props.group && chart.value) {\n        chart.value.group = props.group;\n      }\n    });\n    var publicApi = usePublicAPI(chart);\n    useLoading(chart, loading, loadingOptions);\n    useAutoresize(chart, autoresize, root);\n    onMounted(function () {\n      init$1();\n    });\n    onBeforeUnmount(function () {\n      if (wcRegistered && root.value) {\n        root.value.__dispose = cleanup;\n      } else {\n        cleanup();\n      }\n    });\n    return _objectSpread({\n      chart: chart,\n      root: root,\n      setOption: setOption,\n      nonEventAttrs: nonEventAttrs,\n      nativeListeners: nativeListeners\n    }, publicApi);\n  },\n  render: function render() {\n    var attrs = Vue2 ? {\n      attrs: this.nonEventAttrs,\n      on: this.nativeListeners\n    } : _objectSpread(_objectSpread({}, this.nonEventAttrs), this.nativeListeners);\n    attrs.ref = \"root\";\n    attrs[\"class\"] = attrs[\"class\"] ? [\"echarts\"].concat(attrs[\"class\"]) : \"echarts\";\n    return h(TAG_NAME, attrs);\n  }\n});\nexport { INIT_OPTIONS_KEY, LOADING_OPTIONS_KEY, THEME_KEY, UPDATE_OPTIONS_KEY, ECharts as default };","map":{"version":3,"names":["METHOD_NAMES","usePublicAPI","chart","makePublicMethod","name","value","Error","_len","arguments","length","args","Array","_key","apply","makePublicMethods","methods","Object","create","forEach","useAutoresize","autoresize","root","watch","_ref","_","onCleanup","_ref2","_slicedToArray","root2","chart2","autoresize2","ro","offsetWidth","offsetHeight","autoresizeOptions","_autoresizeOptions$th","throttle","wait","onResize","initialResizeTriggered","callback","resize","resizeCallback","ResizeObserver","observe","disconnect","autoresizeProps","Boolean","onRE","isOn","key","test","omitOn","attrs","result","unwrapInjected","injection","defaultValue","isRef","unref","_typeof","LOADING_OPTIONS_KEY","useLoading","loading","loadingOptions","defaultLoadingOptions","inject","realLoadingOptions","computed","_objectSpread","watchEffect","instance","showLoading","hideLoading","loadingProps","registered","TAG_NAME","register","HTMLElement","customElements","reg","Function","e","wcRegistered","Vue2","config","ignoredElements","push","THEME_KEY","INIT_OPTIONS_KEY","UPDATE_OPTIONS_KEY","NATIVE_EVENT_RE","ECharts","defineComponent","props","option","theme","type","String","initOptions","updateOptions","group","manualUpdate","emits","inheritAttrs","setup","_ref3","shallowRef","manualOption","defaultTheme","defaultInitOptions","defaultUpdateOptions","_toRefs","toRefs","realOption","realTheme","realInitOptions","realUpdateOptions","nonEventAttrs","nativeListeners","listeners","getCurrentInstance","proxy","$listeners","realListeners","keys","filter","event","charAt","toLowerCase","slice","indexOf","nativeKey","concat","toUpperCase","substring","replace","init$1","init","handler","__once__","target","getZr","raw","off","on","isDisposed","commit","opt","setOption","nextTick","cleanup","dispose","unwatchOption","manualUpdate2","oldOption","notMerge","deep","immediate","publicApi","onMounted","onBeforeUnmount","__dispose","render","ref","h"],"sources":["../src/composables/api.ts","../src/composables/autoresize.ts","../src/utils.ts","../src/composables/loading.ts","../src/wc.ts","../src/ECharts.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport type { Ref } from \"vue-demi\";\nimport type { EChartsType } from \"../types\";\n\nconst METHOD_NAMES = [\n  \"getWidth\",\n  \"getHeight\",\n  \"getDom\",\n  \"getOption\",\n  \"resize\",\n  \"dispatchAction\",\n  \"convertToPixel\",\n  \"convertFromPixel\",\n  \"containPixel\",\n  \"getDataURL\",\n  \"getConnectedDataURL\",\n  \"appendData\",\n  \"clear\",\n  \"isDisposed\",\n  \"dispose\"\n] as const;\n\ntype MethodName = (typeof METHOD_NAMES)[number];\n\ntype PublicMethods = Pick<EChartsType, MethodName>;\n\nexport function usePublicAPI(\n  chart: Ref<EChartsType | undefined>\n): PublicMethods {\n  function makePublicMethod<T extends MethodName>(\n    name: T\n  ): (...args: Parameters<EChartsType[T]>) => ReturnType<EChartsType[T]> {\n    return (...args) => {\n      if (!chart.value) {\n        throw new Error(\"ECharts is not initialized yet.\");\n      }\n      return (chart.value[name] as any).apply(chart.value, args);\n    };\n  }\n\n  function makePublicMethods(): PublicMethods {\n    const methods = Object.create(null);\n    METHOD_NAMES.forEach(name => {\n      methods[name] = makePublicMethod(name);\n    });\n\n    return methods as PublicMethods;\n  }\n\n  return makePublicMethods();\n}\n","import { watch } from \"vue-demi\";\nimport { throttle } from \"echarts/core\";\n\nimport type { Ref, PropType } from \"vue-demi\";\nimport type { EChartsType, AutoResize } from \"../types\";\n\nexport function useAutoresize(\n  chart: Ref<EChartsType | undefined>,\n  autoresize: Ref<AutoResize | undefined>,\n  root: Ref<HTMLElement | undefined>\n): void {\n  watch(\n    [root, chart, autoresize],\n    ([root, chart, autoresize], _, onCleanup) => {\n      let ro: ResizeObserver | null = null;\n\n      if (root && chart && autoresize) {\n        const { offsetWidth, offsetHeight } = root;\n        const autoresizeOptions = autoresize === true ? {} : autoresize;\n        const { throttle: wait = 100, onResize } = autoresizeOptions;\n\n        let initialResizeTriggered = false;\n\n        const callback = () => {\n          chart.resize();\n          onResize?.();\n        };\n\n        const resizeCallback = wait ? throttle(callback, wait) : callback;\n\n        ro = new ResizeObserver(() => {\n          // We just skip ResizeObserver's initial resize callback if the\n          // size has not changed since the chart is rendered.\n          if (!initialResizeTriggered) {\n            initialResizeTriggered = true;\n            if (\n              root.offsetWidth === offsetWidth &&\n              root.offsetHeight === offsetHeight\n            ) {\n              return;\n            }\n          }\n          resizeCallback();\n        });\n        ro.observe(root);\n      }\n\n      onCleanup(() => {\n        if (ro) {\n          ro.disconnect();\n          ro = null;\n        }\n      });\n    }\n  );\n}\n\nexport const autoresizeProps = {\n  autoresize: [Boolean, Object] as PropType<AutoResize>\n};\n","import { unref, isRef } from \"vue-demi\";\n\nimport type { Injection } from \"./types\";\n\ntype Attrs = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  [key: string]: any;\n};\n\n// Copied from\n// https://github.com/vuejs/vue-next/blob/5a7a1b8293822219283d6e267496bec02234b0bc/packages/shared/src/index.ts#L40-L41\nconst onRE = /^on[^a-z]/;\nexport const isOn = (key: string): boolean => onRE.test(key);\n\nexport function omitOn(attrs: Attrs): Attrs {\n  const result: Attrs = {};\n  for (const key in attrs) {\n    if (!isOn(key)) {\n      result[key] = attrs[key];\n    }\n  }\n\n  return result;\n}\n\nexport function unwrapInjected<T, V>(\n  injection: Injection<T>,\n  defaultValue: V\n): T | V {\n  const value = isRef(injection) ? unref(injection) : injection;\n\n  if (value && typeof value === \"object\" && \"value\" in value) {\n    return value.value || defaultValue;\n  }\n\n  return value || defaultValue;\n}\n","import { unwrapInjected } from \"../utils\";\nimport { inject, computed, watchEffect } from \"vue-demi\";\n\nimport type { Ref, InjectionKey, PropType } from \"vue-demi\";\nimport type { EChartsType, LoadingOptions } from \"../types\";\n\nexport const LOADING_OPTIONS_KEY =\n  \"ecLoadingOptions\" as unknown as InjectionKey<\n    LoadingOptions | Ref<LoadingOptions>\n  >;\n\nexport function useLoading(\n  chart: Ref<EChartsType | undefined>,\n  loading: Ref<boolean>,\n  loadingOptions: Ref<LoadingOptions | undefined>\n): void {\n  const defaultLoadingOptions = inject(LOADING_OPTIONS_KEY, {});\n  const realLoadingOptions = computed(() => ({\n    ...unwrapInjected(defaultLoadingOptions, {}),\n    ...loadingOptions?.value\n  }));\n\n  watchEffect(() => {\n    const instance = chart.value;\n    if (!instance) {\n      return;\n    }\n\n    if (loading.value) {\n      instance.showLoading(realLoadingOptions.value);\n    } else {\n      instance.hideLoading();\n    }\n  });\n}\n\nexport const loadingProps = {\n  loading: Boolean,\n  loadingOptions: Object as PropType<LoadingOptions>\n};\n","let registered: boolean | null = null;\n\nexport const TAG_NAME = \"x-vue-echarts\";\n\nexport interface EChartsElement extends HTMLElement {\n  __dispose: (() => void) | null;\n}\n\nexport function register(): boolean {\n  if (registered != null) {\n    return registered;\n  }\n\n  if (\n    typeof HTMLElement === \"undefined\" ||\n    typeof customElements === \"undefined\"\n  ) {\n    return (registered = false);\n  }\n\n  try {\n    // Class definitions cannot be transpiled to ES5\n    // so we are doing a little trick here to ensure\n    // we are using native classes. As we use this as\n    // a progressive enhancement, it will be fine even\n    // if the browser doesn't support native classes.\n    const reg = new Function(\n      \"tag\",\n      // Use esbuild repl to keep build process simple\n      // https://esbuild.github.io/try/#dAAwLjIzLjAALS1taW5pZnkAY2xhc3MgRUNoYXJ0c0VsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7CiAgX19kaXNwb3NlID0gbnVsbDsKCiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7CiAgICBpZiAodGhpcy5fX2Rpc3Bvc2UpIHsKICAgICAgdGhpcy5fX2Rpc3Bvc2UoKTsKICAgICAgdGhpcy5fX2Rpc3Bvc2UgPSBudWxsOwogICAgfQogIH0KfQoKaWYgKGN1c3RvbUVsZW1lbnRzLmdldCh0YWcpID09IG51bGwpIHsKICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnLCBFQ2hhcnRzRWxlbWVudCk7Cn0K\n      \"class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);\"\n    );\n    reg(TAG_NAME);\n  } catch (e) {\n    return (registered = false);\n  }\n\n  return (registered = true);\n}\n","/* eslint-disable vue/multi-word-component-names */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {\n  defineComponent,\n  shallowRef,\n  toRefs,\n  watch,\n  computed,\n  inject,\n  onMounted,\n  onBeforeUnmount,\n  h,\n  nextTick,\n  watchEffect,\n  getCurrentInstance,\n  Vue2\n} from \"vue-demi\";\nimport { init as initChart } from \"echarts/core\";\n\nimport {\n  usePublicAPI,\n  useAutoresize,\n  autoresizeProps,\n  useLoading,\n  loadingProps\n} from \"./composables\";\nimport { isOn, omitOn, unwrapInjected } from \"./utils\";\nimport { register, TAG_NAME } from \"./wc\";\n\nimport type { PropType, InjectionKey } from \"vue-demi\";\nimport type {\n  EChartsType,\n  EventTarget,\n  Option,\n  Theme,\n  ThemeInjection,\n  InitOptions,\n  InitOptionsInjection,\n  UpdateOptions,\n  UpdateOptionsInjection,\n  Emits\n} from \"./types\";\nimport type { EChartsElement } from \"./wc\";\n\nimport \"./style.css\";\n\nconst __CSP__ = false;\nconst wcRegistered = __CSP__ ? false : register();\n\nif (Vue2) {\n  Vue2.config.ignoredElements.push(TAG_NAME);\n}\n\nexport const THEME_KEY = \"ecTheme\" as unknown as InjectionKey<ThemeInjection>;\nexport const INIT_OPTIONS_KEY =\n  \"ecInitOptions\" as unknown as InjectionKey<InitOptionsInjection>;\nexport const UPDATE_OPTIONS_KEY =\n  \"ecUpdateOptions\" as unknown as InjectionKey<UpdateOptionsInjection>;\nexport { LOADING_OPTIONS_KEY } from \"./composables\";\n\nconst NATIVE_EVENT_RE = /(^&?~?!?)native:/;\n\nexport default defineComponent({\n  name: \"echarts\",\n  props: {\n    option: Object as PropType<Option>,\n    theme: {\n      type: [Object, String] as PropType<Theme>\n    },\n    initOptions: Object as PropType<InitOptions>,\n    updateOptions: Object as PropType<UpdateOptions>,\n    group: String,\n    manualUpdate: Boolean,\n    ...autoresizeProps,\n    ...loadingProps\n  },\n  emits: {} as unknown as Emits,\n  inheritAttrs: false,\n  setup(props, { attrs }) {\n    const root = shallowRef<EChartsElement>();\n    const chart = shallowRef<EChartsType>();\n    const manualOption = shallowRef<Option>();\n    const defaultTheme = inject(THEME_KEY, null);\n    const defaultInitOptions = inject(INIT_OPTIONS_KEY, null);\n    const defaultUpdateOptions = inject(UPDATE_OPTIONS_KEY, null);\n\n    const { autoresize, manualUpdate, loading, loadingOptions } = toRefs(props);\n\n    const realOption = computed(\n      () => manualOption.value || props.option || null\n    );\n    const realTheme = computed(\n      () => props.theme || unwrapInjected(defaultTheme, {})\n    );\n    const realInitOptions = computed(\n      () => props.initOptions || unwrapInjected(defaultInitOptions, {})\n    );\n    const realUpdateOptions = computed(\n      () => props.updateOptions || unwrapInjected(defaultUpdateOptions, {})\n    );\n    const nonEventAttrs = computed(() => omitOn(attrs));\n    const nativeListeners: Record<string, unknown> = {};\n\n    // @ts-expect-error listeners for Vue 2 compatibility\n    const listeners = getCurrentInstance().proxy.$listeners;\n    const realListeners: Record<string, any> = {};\n\n    if (!listeners) {\n      // This is for Vue 3.\n      // We are converting all `on<Event>` props to event listeners compatible with Vue 2\n      // and collect them into `realListeners` so that we can bind them to the chart instance\n      // later in the same way.\n      // For `onNative:<event>` props, we just strip the `Native:` part and collect them into\n      // `nativeListeners` so that we can bind them to the root element directly.\n      Object.keys(attrs)\n        .filter(key => isOn(key))\n        .forEach(key => {\n          // onClick    -> c + lick\n          // onZr:click -> z + r:click\n          let event = key.charAt(2).toLowerCase() + key.slice(3);\n\n          // Collect native DOM events\n          if (event.indexOf(\"native:\") === 0) {\n            // native:click -> onClick\n            const nativeKey = `on${event.charAt(7).toUpperCase()}${event.slice(\n              8\n            )}`;\n\n            nativeListeners[nativeKey] = attrs[key];\n            return;\n          }\n\n          // clickOnce    -> ~click\n          // zr:clickOnce -> ~zr:click\n          if (event.substring(event.length - 4) === \"Once\") {\n            event = `~${event.substring(0, event.length - 4)}`;\n          }\n\n          realListeners[event] = attrs[key];\n        });\n    } else {\n      // This is for Vue 2.\n      // We just need to distinguish normal events and `native:<event>` events and\n      // collect them into `realListeners` and `nativeListeners` respectively.\n      // For `native:<event>` events, we just strip the `native:` part and collect them\n      // into `nativeListeners` so that we can bind them to the root element directly.\n      // native:click   -> click\n      // ~native:click  -> ~click\n      // &~!native:click -> &~!click\n      Object.keys(listeners).forEach(key => {\n        if (NATIVE_EVENT_RE.test(key)) {\n          nativeListeners[key.replace(NATIVE_EVENT_RE, \"$1\")] = listeners[key];\n        } else {\n          realListeners[key] = listeners[key];\n        }\n      });\n    }\n\n    function init(option?: Option) {\n      if (!root.value) {\n        return;\n      }\n\n      const instance = (chart.value = initChart(\n        root.value,\n        realTheme.value,\n        realInitOptions.value\n      ));\n\n      if (props.group) {\n        instance.group = props.group;\n      }\n\n      Object.keys(realListeners).forEach(key => {\n        let handler = realListeners[key];\n\n        if (!handler) {\n          return;\n        }\n\n        let event = key.toLowerCase();\n        if (event.charAt(0) === \"~\") {\n          event = event.substring(1);\n          handler.__once__ = true;\n        }\n\n        let target: EventTarget = instance;\n        if (event.indexOf(\"zr:\") === 0) {\n          target = instance.getZr();\n          event = event.substring(3);\n        }\n\n        if (handler.__once__) {\n          delete handler.__once__;\n\n          const raw = handler;\n\n          handler = (...args: any[]) => {\n            raw(...args);\n            target.off(event, handler);\n          };\n        }\n\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore EChartsType[\"on\"] is not compatible with ZRenderType[\"on\"]\n        // but it's okay here\n        target.on(event, handler);\n      });\n\n      function resize() {\n        if (instance && !instance.isDisposed()) {\n          instance.resize();\n        }\n      }\n\n      function commit() {\n        const opt = option || realOption.value;\n        if (opt) {\n          instance.setOption(opt, realUpdateOptions.value);\n        }\n      }\n\n      if (autoresize.value) {\n        // Try to make chart fit to container in case container size\n        // is changed synchronously or in already queued microtasks\n        nextTick(() => {\n          resize();\n          commit();\n        });\n      } else {\n        commit();\n      }\n    }\n\n    function setOption(option: Option, updateOptions?: UpdateOptions) {\n      if (props.manualUpdate) {\n        manualOption.value = option;\n      }\n\n      if (!chart.value) {\n        init(option);\n      } else {\n        chart.value.setOption(option, updateOptions || {});\n      }\n    }\n\n    function cleanup() {\n      if (chart.value) {\n        chart.value.dispose();\n        chart.value = undefined;\n      }\n    }\n\n    let unwatchOption: (() => void) | null = null;\n    watch(\n      manualUpdate,\n      manualUpdate => {\n        if (typeof unwatchOption === \"function\") {\n          unwatchOption();\n          unwatchOption = null;\n        }\n\n        if (!manualUpdate) {\n          unwatchOption = watch(\n            () => props.option,\n            (option, oldOption) => {\n              if (!option) {\n                return;\n              }\n              if (!chart.value) {\n                init();\n              } else {\n                chart.value.setOption(option, {\n                  // mutating `option` will lead to `notMerge: false` and\n                  // replacing it with new reference will lead to `notMerge: true`\n                  notMerge: option !== oldOption,\n                  ...realUpdateOptions.value\n                });\n              }\n            },\n            { deep: true }\n          );\n        }\n      },\n      {\n        immediate: true\n      }\n    );\n\n    watch(\n      [realTheme, realInitOptions],\n      () => {\n        cleanup();\n        init();\n      },\n      {\n        deep: true\n      }\n    );\n\n    watchEffect(() => {\n      if (props.group && chart.value) {\n        chart.value.group = props.group;\n      }\n    });\n\n    const publicApi = usePublicAPI(chart);\n\n    useLoading(chart, loading, loadingOptions);\n\n    useAutoresize(chart, autoresize, root);\n\n    onMounted(() => {\n      init();\n    });\n\n    onBeforeUnmount(() => {\n      if (wcRegistered && root.value) {\n        // For registered web component, we can leverage the\n        // `disconnectedCallback` to dispose the chart instance\n        // so that we can delay the cleanup after exsiting leaving\n        // transition.\n        root.value.__dispose = cleanup;\n      } else {\n        cleanup();\n      }\n    });\n\n    return {\n      chart,\n      root,\n      setOption,\n      nonEventAttrs,\n      nativeListeners,\n      ...publicApi\n    };\n  },\n  render() {\n    // Vue 3 and Vue 2 have different vnode props format:\n    // See https://v3-migration.vuejs.org/breaking-changes/render-function-api.html#vnode-props-format\n    const attrs = (\n      Vue2\n        ? { attrs: this.nonEventAttrs, on: this.nativeListeners }\n        : { ...this.nonEventAttrs, ...this.nativeListeners }\n    ) as any;\n    attrs.ref = \"root\";\n    attrs.class = attrs.class ? [\"echarts\"].concat(attrs.class) : \"echarts\";\n    return h(TAG_NAME, attrs);\n  }\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}